#!/usr/bin/env sh

set -e && mkdir -p ~/.tto
curl -L https://github.com/ixre/tto/releases/download/v0.4.0/tto-generator-bin.tar.gz | tar xz -C ~/.tto

echo '============================'
echo 'check access..'
sudo -i
echo 'installing...'

GOOS=$(uname)
if [ "$GOOS" =  'Darwin' ]; then
  sudo mv ~/.tto/mac-tto /usr/local/bin/tto
elif [ "$GOOS" = 'Windows' ] ||  \
     [ "${GOOS:0:5}" = 'MINGW' ] || \
     [ "${GOOS:0:6}" = 'Cygwin' ]; then
  mv ~/.tto/tto.exe "$WINDIR\system32"
else
  sudo mv ~/.tto/tto /usr/local/bin
fi

rm -rf ~/.tto && echo "install finished!"



